{"ast":null,"code":"import _toConsumableArray from\"/Users/shahmuhammadjannatulhasan/Desktop/Web Dev/lucky-one-mdjannatulhasan/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/shahmuhammadjannatulhasan/Desktop/Web Dev/lucky-one-mdjannatulhasan/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Product from'../Product/Product';import'./Shop.css';import Cart from'../Cart/Cart';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Shop=function Shop(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cart=_useState4[0],setCart=_useState4[1];useEffect(function(){fetch('products.json').then(function(res){return res.json();}).then(function(data){return setProducts(data);});},[]);var handleAddToCart=function handleAddToCart(product){var productExist=cart.find(function(obj){return obj.id===product.id;});console.log(cart.length);if(cart.length<4){if(!productExist){var newCart=[].concat(_toConsumableArray(cart),[product]);setCart(newCart);}}else{alert(\"You can not select more than 4 products\");}};var chooseAnother=function chooseAnother(){var emptyCart=[];setCart(emptyCart);};var choose=function choose(){if(cart.length>0){var oneArray=cart[Math.floor(Math.random()*cart.length)];var oneCart=[oneArray];setCart(oneCart);alert('We have selected \"'+oneArray.name+'\"');}else{alert('Please add something to cart');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"shop-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"products-container\",children:products.map(function(product){return/*#__PURE__*/_jsx(Product,{product:product,handleAddToCart:handleAddToCart},product.id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-container\",children:/*#__PURE__*/_jsx(Cart,{cart:cart,chooseAnother:chooseAnother,choose:choose})})]});};export default Shop;","map":{"version":3,"sources":["/Users/shahmuhammadjannatulhasan/Desktop/Web Dev/lucky-one-mdjannatulhasan/src/components/Shop/Shop.js"],"names":["React","useEffect","useState","Product","Cart","Shop","products","setProducts","cart","setCart","fetch","then","res","json","data","handleAddToCart","product","productExist","find","obj","id","console","log","length","newCart","alert","chooseAnother","emptyCart","choose","oneArray","Math","floor","random","oneCart","name","map"],"mappings":"wUAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CAEf,cAAgCH,QAAQ,CAAC,EAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAAwBL,QAAQ,CAAC,EAAD,CAAhC,yCAAOM,IAAP,eAAaC,OAAb,eAEAR,SAAS,CAAC,UAAM,CACZS,KAAK,CAAC,eAAD,CAAL,CACKC,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAIP,CAAAA,WAAW,CAACO,IAAD,CAAf,EAFd,EAGH,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,OAAD,CAAa,CACjC,GAAMC,CAAAA,YAAY,CAAGT,IAAI,CAACU,IAAL,CAAU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,EAAJ,GAAWJ,OAAO,CAACI,EAAvB,EAAb,CAArB,CACAC,OAAO,CAACC,GAAR,CAAYd,IAAI,CAACe,MAAjB,EACA,GAAIf,IAAI,CAACe,MAAL,CAAc,CAAlB,CAAqB,CACjB,GAAI,CAACN,YAAL,CAAmB,CACf,GAAMO,CAAAA,OAAO,8BAAOhB,IAAP,GAAaQ,OAAb,EAAb,CACAP,OAAO,CAACe,OAAD,CAAP,CACH,CACJ,CALD,IAKO,CACHC,KAAK,CAAC,yCAAD,CAAL,CACH,CACJ,CAXD,CAYA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxB,GAAMC,CAAAA,SAAS,CAAG,EAAlB,CACAlB,OAAO,CAACkB,SAAD,CAAP,CACH,CAHD,CAIA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjB,GAAIpB,IAAI,CAACe,MAAL,CAAc,CAAlB,CAAqB,CACjB,GAAMM,CAAAA,QAAQ,CAAGrB,IAAI,CAACsB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgBxB,IAAI,CAACe,MAAhC,CAAD,CAArB,CAEA,GAAMU,CAAAA,OAAO,CAAG,CAACJ,QAAD,CAAhB,CACApB,OAAO,CAACwB,OAAD,CAAP,CAGAR,KAAK,CAAC,qBAAuBI,QAAQ,CAACK,IAAhC,CAAuC,GAAxC,CAAL,CACH,CARD,IAQK,CACDT,KAAK,CAAC,8BAAD,CAAL,CACH,CACJ,CAZD,CAaA,mBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,YAAK,SAAS,CAAC,oBAAf,UAEQnB,QAAQ,CAAC6B,GAAT,CAAa,SAAAnB,OAAO,qBAChB,KAAC,OAAD,EAEI,OAAO,CAAEA,OAFb,CAGI,eAAe,CAAED,eAHrB,EACSC,OAAO,CAACI,EADjB,CADgB,EAApB,CAFR,EADJ,cAYI,YAAK,SAAS,CAAC,gBAAf,uBACI,KAAC,IAAD,EAEI,IAAI,CAAEZ,IAFV,CAGI,aAAa,CAAEkB,aAHnB,CAII,MAAM,CAAEE,MAJZ,EADJ,EAZJ,GADJ,CAuBH,CA/DD,CAiEA,cAAevB,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Product from '../Product/Product';\nimport './Shop.css';\nimport Cart from '../Cart/Cart'\n\nconst Shop = () => {\n\n    const [products, setProducts] = useState([]);\n    const [cart, setCart] = useState([]);\n\n    useEffect(() => {\n        fetch('products.json')\n            .then(res => res.json())\n            .then(data => setProducts(data))\n    }, []);\n\n    const handleAddToCart = (product) => {\n        const productExist = cart.find(obj => obj.id === product.id);\n        console.log(cart.length)\n        if (cart.length < 4) {\n            if (!productExist) {\n                const newCart = [...cart, product];\n                setCart(newCart);\n            }\n        } else {\n            alert(\"You can not select more than 4 products\");\n        }\n    }\n    const chooseAnother = () => {\n        const emptyCart = [];\n        setCart(emptyCart);\n    }\n    const choose = () => {\n        if (cart.length > 0) {\n            const oneArray = cart[Math.floor(Math.random() * cart.length)]\n\n            const oneCart = [oneArray];\n            setCart(oneCart);\n\n\n            alert('We have selected \"' + oneArray.name + '\"');\n        }else{\n            alert('Please add something to cart');\n        }\n    }\n    return (\n        <div className='shop-container'>\n            <div className=\"products-container\">\n                {\n                    products.map(product =>\n                        <Product\n                            key={product.id}\n                            product={product}\n                            handleAddToCart={handleAddToCart}\n                        >\n                        </Product>)\n                }\n            </div>\n            <div className=\"cart-container\">\n                <Cart\n\n                    cart={cart}\n                    chooseAnother={chooseAnother}\n                    choose={choose}>\n                </Cart>\n            </div>\n        </div >\n    );\n};\n\nexport default Shop;"]},"metadata":{},"sourceType":"module"}